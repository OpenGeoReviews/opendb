<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script src="/js/admin/jquery.json-editor.min.js"></script>
<script src="/js/admin/deepdiffmapper.js"></script>
<script src="/js/admin/admin.js"></script>
<style>
    body {padding: 40px; }
    li {
        list-style-type: none;
    }
</style>
</head>
<head>
</head>

<body>
<p id="result"></p>
<ul class="nav nav-tabs" id="tabspanel">
    <li class="active"><a data-toggle="tab" href="#home">Status</a></li>
    <li><a data-toggle="tab" href="#blocks" id="blocks-tab">Blocks</a></li>
    <li><a data-toggle="tab" href="#operations" id="operations-tab">Operations</a></li>
    <li><a data-toggle="tab" href="#objects" id="objects-tab">Objects</a></li>
    <li><a data-toggle="tab" href="#errors" id="errors-tab">Errors</a></li>
    <li><a data-toggle="tab" href="#api" id="api-tab">API</a></li>
    <li><a data-toggle="tab" href="#settings" id="settings-tab">Settings</a></li>
    <li><a data-toggle="tab" href="#metrics" id="metrics-tab">Metrics</a></li>
    <li><a data-toggle="tab" href="#ipfs" id="ipfs-tab">IPFS</a></li>
    <li><a data-toggle="tab" href="#reg" id="reg-tab">Registration</a></li>
</ul>
<div class="tab-content">
    <div id="home" class="tab-pane fade in active">
        <h1>Admin harness for OpenDB</h1>
        <div class="form-group">
            <p>Blockchain status: <b><span id="blockchain-status"></span></b></p>
            <p>Admin server user: <b><span id="admin-user"></span></b></p>
            <p>Admin logged in user: <b><span id="admin-login-user">not logged in</span></b></p>
            <p>Superblocks: <ol class="breadcrumb" id="blockchain-blocks"></ol></p>
            <p id="blockchain-orphaned-blocks-header">Orphaned blocks: <b><span id="blockchain-orphaned-blocks"></span></b></p>
            
		</div>
        <div id="admin-login-div">
            <div class="form-inline">
                <label for="admin-login-name">Login:</label>
                <input type="text" class="form-control" id="admin-login-name"/>
                <label for="admin-login-key">Key:</label>
                <input type="password" class="form-control" id="admin-login-key"/>
                <input type="button" class="btn btn-primary" value="Login as admin" id="admin-login-btn"/>
            </div>
        </div>
        <div id="admin-actions" >
        	<div class="panel panel-success">
        		<div class="panel-heading"><b>Block actions</b></div>
        		<div class="panel-body">
            		<div class="form-inline">
            			<input type="button" class="btn btn-primary form-control" value="Create block" id="block-create-btn"/>
            			<input type="button" class="btn btn-primary form-control" value="Replicate blocks" id="replicate-btn" />
            			<input type="button" class="btn btn-primary form-control" value="Compact superblocks" id="compact-btn" />
            		</div>
            	</div>
            </div>
            <div class="panel panel-success">
        		<div class="panel-heading"><b>Blockchain actions</b></div>
        		<div class="panel-body">
            		<div class="form-inline">
            			<input type="button" class="btn btn-primary form-control" value="Clear log" id="clear-log-btn" />
            			<input type="button" class="btn btn-primary form-control" value="Lock/unlock blockchain" id="ops-pause-btn"/>
            			<input type="button" class="btn btn-primary form-control" value="Pause/start new blocks" id="blocks-pause-btn"/>
            			<input type="button" class="btn btn-primary form-control" value="Pause/start replication" id="replicate-pause-btn"/>
            		</div>
            	</div>
            </div>
			
        </div>
        <div id="owner-actions">
        	<div class="panel panel-warning">
        		<div class="panel-heading"><b>Management actions</b></div>
        		<div class="panel-body">
            		<div class="form-inline">
            			<input type="button" class="btn btn-primary form-control" value="Bootstrap" id="block-bootstrap-btn"/>
                		<input type="button" class="btn btn-primary form-control" value="Revert super block" id="block-revert-btn"/>
                		<input type="button" class="btn btn-primary form-control" value="Revert 1 block" id="block-1revert-btn"/>
            		</div>
            	</div>
            </div>
        	<div class="panel panel-warning">
        		<div class="panel-heading"><b>Delete actions</b></div>
        		<div class="panel-body">
            		<div class="form-inline">
            			<input type="button" class="btn btn-primary form-control" value="Clear queue" id="clear-list-btn" />
            			<input type="text" class="form-control" id="remove-orphaned-blocks-txt"/>
            			<input type="button" class="btn btn-primary" value="Remove orphaned blocks" id="remove-orphaned-blocks-btn"/>
            			<input type="text" class="form-control" id="remove-queue-ops-txt"/>
            			<input type="button" class="btn btn-primary" value="Remove queue operations" id="remove-queue-ops-btn"/>
            		</div>
            	</div>
            </div>
        </div>
    </div>

    <div id="blocks" class="tab-pane fade">
        <h3>Blocks</h3>
        <div class="row">
        	<div class="form-group col-md-4">
            	<select id="blocks-search" class="form-control" >
					<option selected value="all">All</option>
					<option value="from">From</option>
					<option value="to">To</option>
            	</select>
            </div>
            <div class="form-group form-inline col-md-8">
            	<div class="form-group hidden" id="block-from-fields">
            		<label for="search-block-field" class="control-label">Block:</label>
                	<input type="text" id="search-block-field" class="form-control" placeholder="Block hash" aria-label="Block hash">
                </div>
                <div class="form-group">
	           		<label for="block-limit-value" class="control-label">Limit:</label>
               		<input type="text" id="block-limit-value" class="form-control" placeholder="# of blocks" aria-label="Number of blocks">
            	</div>
            </div>
        </div>
        <div class="row">
        	<div class="col-md-2 form-group">
        		<input type="button" class="btn btn-primary form-control" id="block-load-btn" value="Load">
        	</div>
        </div>
        <ul class="list-group" id="blocks-list">
        </ul>
        <ul class="list-group" hidden="true" id="blocks-list-item">
        	<li class="panel panel-default">
        		<p class="panel-heading">
        			<b><a did="block-operation-link" href="#" onclick="">Block #<span did="block-id"></span></a></b>
        			<a href="#" class="pull-right" did="block-hash" data-toggle="popover" data-trigger="hover"></a>
        		</p>
        		<div class="panel-body">
                    <p>Date: <b><span did="block-date"></span></b></p>
                    <p class="pull-right">Signed by: <b><span did="signed-by"> </span></b></p>
                    <p><span did="block-objects-info"></span></p>
                    <details><summary><b>More</b></summary>
                        <pre>
Previous block hash: <b><span did="prev-block-hash"></span></b>
Superblock: <b><span did="superblock"></span></b>
Operations: <b><span did="op-count"></span></b>
Added/Edited/Removed objects: <b><span did="block-objects"></span></b>
Block size: <b><span did="block-size"></span></b>
Merkle tree hash: <b><span did="merkle-tree"></span></b>
Details: <b><span did="block-details"></span></b></pre>
                    </details>
                    <details><summary><b>Raw json</b></summary><pre did="block-json"></pre></details>
        		</div>
        	</li>
        </ul>
        

    </div>

    <div id="operations" class="tab-pane fade">
        <h3>Operations</h3>
        <div class="row form-group form-horizontal">
            <!--<label for="operations-search" class="control-label col-md-1">Select load:&nbsp;</label>-->
            <div class="col-md-3">
                <select id="operations-search" class="form-control">
                    <option selected value="queue">Queue</option>
                    <option value="id">by Id</option>
                    <option value="blockId">by Block Id</option>
                    <option value="blockHash">by Block Hash</option>
                </select>
            </div>
            <div hidden="true" id="operations-search-fields">
                <label id="input-search-operation-key" for="operations-key" class="control-label col-md-1">Input</label>
                <div class="col-md-3">
                    <input type="text" id="operations-key" class="form-control">
                </div>
            </div>
        </div>
        <div class="row form-group">
            <div class="col-md-2">
                <input type="button" id="operations-search-btn" value="Load" class="btn btn-primary form-control">
            </div>
        </div>
        <label id="amount-operations" class="col-form-label" hidden="true"></label>
        <ul class="list-group" id="operations-list"></ul>
        <ul class="list-group" hidden="true" id="operation-list-item">
            <li class="panel panel-default">
                <div class="panel-heading">
                    <b><a class="pull-right" did="operation-object-link" href="#" ><span did="op-hash"></span></a></b>
                    <p>Operation type: <b><span did="op-type"></span></b></p>
                </div>
                <div class="panel-body">
                    <p class="pull-right">Signed by: <b><span did="signed-by"></span></b></p>
                    <p>Objects: <span did="object-info"></span></p>
                    <details><summary><b>Raw json</b></summary><pre did="op-json"></pre></details>
                </div>
            </li>
        </ul>
    </div>

    <div id="objects" class="tab-pane fade">
        <h3>Objects</h3>

        <div class="form-group">
        <form class="form-inline">
            <div class="form-group">
                <label for="type-list">Select type:&nbsp;</label>
                <select class="form-control" id="type-list"></select>
            </div>
            <div class="form-group">
                <label for="search-type-list">Search:&nbsp;</label>
                <select class="form-control" id="search-type-list">
                    <option selected value="all">all</option>
                    <option value="userId">by userId</option>
                    <option value = "opHash" >by opHash</option>
                </select>
            </div>
            <div class="form-group">
                <label for="historyCheckbox">Show history</label>
                <input type="checkbox" id="historyCheckbox" name="scales">
            </div>
        </form>
        </div>

        <div class="form-group">
        <form class="form-inline" id="search-key-input" hidden="true">
            <div class="form-group">
                <label for="search-key" id="name-key-field"></label>
                <input type="text" id="search-key" class="form-control"/>
            </div>
        </form>
        </div>

        <div class="form-group">
            <form class="form-inline">
                <div class="form-group">
                    <label for="limit-field">Amount entries (Limit):</label>
                    <input type="text" class="form-control" id="limit-field" value="50"/>
                </div>
            </form>
        </div>

        <div class="row form-group">
            <div class="col-md-2">
                <input type="submit" value="Search" id="load-objects-btn" class="btn btn-primary form-control">
            </div>
        </div>

        <label class="col-form-label" id="amount-objects"></label>
        <pre id="json-display" hidden="true"></pre>

        <div class="col-12 row">
            <div id="stop-edit-objects" class="col-md-1" hidden="true">
                <input type="button" value="Stop edit" id="stop-edit-btn" class="btn btn-primary">
            </div>
            <div id="editing-objects" class="col-md-1" hidden="true">
                <input type="button" value="Finish edit" id="finish-edit-btn" class="btn btn-primary">
            </div>
            <div id="add-edited-obj" class="col-md-1" hidden="true">
                <input type="button" value="Add edit op" id="add-edit-op-btn" class="btn btn-primary">
            </div>
        </div>

        <ul class="list-group" id="objects-list"></ul>
        <ul class="list-group" id="objects-list-item" hidden="true">
            <li class="panel panel-default">
                <div class="panel-heading">
                    <b><span class="pull-right" did="op-hash"></span></b>
                    <p>Object ID: <b><span did="obj-id"></span></b></p>
                </div>
                <div class="panel-body">
                    <p did="comment">Comment: <b><span did="obj-comment"></span></b></p>
                    <details><summary><b>Raw json</b></summary><pre did="object-json"></pre></details>
                </div>
            </li>
        </ul>
        <ul class="list-group" id="objects-history-list-item" hidden="true">
            <li class="panel panel-default">
                <div class="panel-heading">
                    <b><a class="pull-right" did="operation-object-link" href="#" ><span did="op-hash"></span></a></b>
                    <p>Object ID: <b><span did="obj-id"></span></b></p>
                </div>
                <div class="panel-body">
                    <!--<p class="pull-right">Signed by: <b><span did="signed-by"></span></b></p>-->
                    <p>Comment: <b><span did="obj-comment"></span></b></p>
                    <p>Comment: <b><span did="obj-comment"></span></b></p>
                    <p>Comment: <b><span did="obj-comment"></span></b></p>
                    <p>Comment: <b><span did="obj-comment"></span></b></p>
                    <p>Comment: <b><span did="obj-comment"></span></b></p>
                    <details><summary><b>Raw json</b></summary><pre did="object-json"></pre></details>
                    <details><summary><b>Raw json</b></summary><pre did="object-json"></pre></details>
                </div>
            </li>
        </ul>
    </div>
    
    <div id="metrics" class="tab-pane fade">
        <h3>Metrics</h3>
        <p></p>
        	<div class="btn-group btn-group-toggle" >
    			<input type="radio" name="metrics-group" id="metrics-all" autocomplete="off" checked/>
    			<label for="metrics-all">All</label>
    			<input type="radio" name="metrics-group" id="metrics-a" autocomplete="off"/>
    			<label for="metrics-a">Group A</label>
    			<input type="radio" name="metrics-group" id="metrics-b" autocomplete="off"/>
    			<label for="metrics-b">Group B</label>
			</div>
		<p></p>
			<div class="btn-group">
				<input type="button" value="Refresh" id="refresh-metrics" />
				<input type="button" value="Reset Group A" id="reset-metrics-a" />
        		<input type="button" value="Reset Group B" id="reset-metrics-b" />
			</div>
		<p></p>
        <div id="metrics-list">
        </div>
    </div>

    <div id="errors" class="tab-pane fade">
        <h3>Log</h3>
        <ul class="list-group" id="errors-list"></ul>
        <ul class="list-group" id="errors-list-item" hidden="true">
            <li class="panel panel-default">
                <div class="panel-heading">
                    <p>Status: <b><span did="status"></span></b></p>
                </div>
                <div class="panel-body">
                    <p>Message: <b><span did="log-message"></span></b></p>
                    <p>Time: <b><span did="log-time"></span></b></p>
                    <p did="excep-message-hidden">Exception message: <b><span did="exception-message"></span></b></p>
                    <p did="block-hidden">Block (id, hash): <b><span did="block"></span></b></p>
                    <p did="operation-hidden">Operation: <b><span did="operation"></span></b></p>
                    <details did="block-json-hidden"><summary><b>Block json</b></summary><pre did="block-json"></pre></details>
                    <details did="op-json-hidden"><summary><b>Operation json</b></summary><pre did="operation-json"></pre></details>
                    <details did="full-json-hidden"><summary><b>Full Exception</b></summary><pre did="full-exception-json"></pre></details>
                </div>
            </li>
        </ul>

    </div>

    <div id="api" class="tab-pane fade">

        <!--BOT state-->
        <div class="row">
            <div class="col-md-12">
                <h4>Bots</h4><button class="btn btn-primary" id="refresh-bot-table-btn"><span class="glyphicon glyphicon-refresh"></span> Refresh</button>
                <br><br>
                <!--Bot table-->
                <div class="table-responsive">
                    <table id="bots-table" class="table table-bordered table-striped table-hover">
                        <thead>
                        <tr>
                            <th colspan="7">Bot Info</th>
                        </tr>
                        <tr>
                            <th>Id</th>
                            <th>Task name</th>
                            <th>Task description</th>
                            <th>Last launch</th>
                            <th>Interval</th>
                            <th>Progress</th>
                            <th>Actions</th>
                        </tr>
                        </thead>

                        <tbody>
                        </tbody>

                    </table>

                </div>

                <!--modal window for bot history-->
                <div class="modal fade" id="bot-history-modal" role="dialog">
                    <div class="modal-dialog modal-lg">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title" id="bot-history-header"></h4>
                                <p class="modal-title" id="history-bot-name"></p>
                            </div>
                            <div class="modal-body">
                                <h4>Bots</h4><button class="btn btn-primary" id="refresh-bot-history-btn"><span class="glyphicon glyphicon-refresh"></span> Refresh</button>
                                <div class="table-responsive">
                                    <table id="bots-history-table" class="table table-bordred table-striped table-hover">
                                        <thead>
                                        <tr>
                                            <th>Bot ID</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Total</th>
                                            <th>Processed</th>
                                            <th>Status</th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        </tbody>

                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h4>DB Index</h4>
                <button class="btn btn-primary" id="refresh-index-table-btn"><span class="glyphicon glyphicon-refresh"></span> Refresh</button>
                <button class="btn btn-primary"  data-toggle="modal" data-target="#new-index-modal" id="add-new-index-table-btn"><span class="glyphicon glyphicon-plus"></span> Add new DB Index</button>
                <br><br>
                <div class="table-responsive">
                    <table id="index-table" class="table table-bordered table-striped table-hover">
                        <thead>
                        <tr>
                            <th colspan="2">Index Info</th>
                            <th colspan="4">Column def</th>
                            <th colspan="1">Expression</th>
                            <th colspan="2">Additional info</th>
                        </tr>
                        <tr>
                            <th>Index</th>
                            <th>Op type</th>

                            <th>Table name</th>
                            <th>Column name</th>
                            <th>Column type</th>
                            <th>Index</th>

                            <th>Field expression</th>

                            <th>Cache Runtime Blocks</th>
                            <th>Cache DB Blocks</th>
                        </tr>
                        </thead>

                        <tbody>
                        </tbody>

                    </table>

                </div>
            </div>

            <!--modal window for bot history-->
            <div class="modal fade" id="new-index-modal" role="dialog">
                <div class="modal-dialog modal-lg">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title" id="new-bot-index-header">Adding new DB index</h4>
                        </div>
                        <div class="modal-body">
                            <h4>Bots</h4>
                            <label class="col-form-label">Input table name</label>
                            <input type="text" id="index-table-name" placeholder="table name" class="form-control">
                            <br>
                            <label class="col-form-label">Input column name</label>
                            <input type="text" id="index-col-name" placeholder="new column name" class="form-control">
                            <br>
                            <label class="col-form-label">Input column type</label>
                            <input type="text" id="index-col-type" placeholder="text, bigint[], ..." class="form-control">
                            <br>
                            <label class="col-form-label">Input op type</label>
                            <select class="form-control" multiple id="index-op-types"></select>
                            <br>
                            <label class="col-form-label">Input index type</label>
                            <select class="form-control" id="index-type">
                                <option selected value="true">true</option>
                                <option value="GIN">Gin</option>
                                <option value="GIST">Gist</option>
                            </select>
                            <br>
                            <label class="col-form-label">Input field</label>
                            <input type="text" id="index-field" placeholder="array -> source.osm.id, source.osm.tags" class="form-control">
                            <br>
                            <label class="col-form-label">Input sql mapping</label>
                            <input type="text" id="index-col-sql-mapping"  placeholder="array, single, ..." class="form-control">
                            <br>
                            <label class="col-form-label">Input cache runtime index</label>
                            <input type="text" id="index-cacheRuntimeMax" placeholder="64, 128, ..." class="form-control">
                            <br>
                            <label class="col-form-label">Input cache db index</label>
                            <input type="text" id="index-cacheDbIndex" placeholder="64, 128, ..." class="form-control">
                            <br>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary" id="add-new-index-btn"><span class="glyphicon glyphicon-plus"></span> Add</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h4>Downloads</h4> <button class="btn btn-primary" id="refresh-api-table-btn"><span class="glyphicon glyphicon-refresh"></span> Refresh</button>
                <br><br>
                <div class="table-responsive">
                    <table id="api-table" class="table table-bordered table-striped table-hover">
                        <thead>
                        <tr>
                            <th colspan="4">Report Info</th>
                            <th colspan="1"></th>
                        </tr>
                        <tr>
                            <th>File name</th>
                            <th>Path to file</th>
                            <th>Size</th>
                            <th>Last modified</th>

                            <th>Actions</th>
                        </tr>
                        </thead>

                        <tbody>
                        </tbody>

                    </table>

                </div>
            </div>
        </div>
    </div>

    <div id="settings" class="tab-pane fade">
        <h3>Settings</h3>
        <div class="col-12">
            <div class="col-1">
                <label class="col-form-label">Show editable settings</label>
                <input type="checkbox" id="settingsCheckbox" name="scales">
            </div>
        </div>
        <div style="display: none;" id="add-new-preference">
            <div class="col-md-12 container">
                <div class="col-md-4">
                    <label for="new-preference-key">Preference key:</label>
                    <input type="text" class="form-control" id="new-preference-key">
                </div>
                <div class="col-md-4">
                    <label for="new-preference-value">Preference value:</label>
                    <textarea class="form-control" rows="1" id="new-preference-value"></textarea>
                </div>
                <div class="col-md-2">
                    <label for="new-preference-type">Preference type:</label>
                    <select class="form-control" id="new-preference-type">
                        <option value="String" selected>String</option>
                        <option value="Long">Long</option>
                        <option value="Integer">Integer</option>
                        <option value="Float">Float</option>
                        <option value="Map">Map</option>
                        <option value="Boolean">Boolean</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="new-preference-restart">Restart is needed:</label>
                    <select class="form-control" id="new-preference-restart">
                        <option value="false" selected>false</option>
                        <option value="true">true</option>
                    </select>
                </div>
            </div>
            <br>
            <hr>
            <button class="btn btn-primary" id="add-new-preference-btn"></span> Add</button>
            <button class="btn btn-primary" id="cancel-new-preference-btn"></span> Cancel</button>
        </div>
        <hr>

        <div class="modal fade" id="settings-edit-modal" role="dialog">
            <div class="modal-dialog modal-lg">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="settings-edit-header"></h4>
                        <p class="modal-title" id="settings-name"></p>
                    </div>
                    <div class="modal-body">
                        <div class="container">
                            <h5 class="modal-title" id="settings-type-edit-header"></h5>
                            <p class="modal-title" id="settings-type" hidden="true"></p>
                        </div>
                        <hr>
                        <div class="container">
                            <div class="col-md-8">
                                <label for="edit-preference-value">Preference value:</label>
                                <textarea class="form-control" rows="1" id="edit-preference-value"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" id="save-new-value-for-settings-btn">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

        <div id="settings-result-list">
        </div>
    </div>

    <div id="ipfs" class="tab-pane fade">
        <h3>IPFS info</h3>
        <div>
            <p><b>IPFS status:</b> &nbsp;&nbsp;<span id="ipfs-status"></span></p>
            <p><b>Peer id:</b> &nbsp;&nbsp;<span id="ipfs-peer-id"></span></p>
            <p><b>Version:</b> &nbsp;&nbsp;<span id="ipfs-version"></span></p>
            <p><b>Gateway</b> &nbsp;&nbsp;<span id="ipfs-gateway"></span></p>
            <p><b>API</b> &nbsp;&nbsp;<span id="ipfs-api"></span></p>
            <p><b>Addresses</b> &nbsp;&nbsp;<span id="ipfs-addresses"></span></p>
            <p><b>Public key</b> &nbsp;&nbsp;<span id="ipfs-public-key"></span></p>
        </div>

        <h3>IPFS storage info</h3>
        <div>
            <p><b>Repo size:</b> &nbsp;&nbsp;<span id="ipfs-repo-size"></span></p>
            <p><b>Max storage:</b> &nbsp;&nbsp;<span id="ipfs-max-storage-size"></span></p>
            <p><b>Repo path</b> &nbsp;&nbsp;<span id="ipfs-repo-path"></span></p>
        </div>

        <h3>IPFS system info</h3>
        <div>
            <p><b>Disk info:</b> &nbsp;&nbsp;<span id="system-info"></span></p>
            <p><b>Memory:</b> &nbsp;&nbsp;<span id="system-memory"></span></p>
            <p><b>Runtime:</b> &nbsp;&nbsp;<span id="system-runtime"></span></p>
            <p><b>Network:</b> &nbsp;&nbsp;<span id="system-network"></span></p>
        </div>

        <h3>Stats</h3>
        <div>
            <p><b>All ipfs objects:</b> &nbsp;&nbsp;<span id="amount-all-ipfs-objects"></span></p>
            <p><b>Pinned ipfs objects:</b> &nbsp;&nbsp;<span id="amount-pinned-ipfs-objects"></span></p>
            <p><b>Missing ipfs objects:</b> &nbsp;&nbsp;<span id="amount-missing-ipfs-objects"></span></p>
            <p><b>DB objects:</b> &nbsp;&nbsp;<span id="amount-db-objects"></span></p>
            <p><b>Inactive objects:</b> &nbsp;&nbsp;<span id="amount-unactivated-objects"></span></p>
            <input type="submit" value="Load full stats" id="laod-full-stats-btn">
        </div>

        <h3>IPFS missing resources</h3>
        <div>
            <p><b>List of missing resources</b> &nbsp;&nbsp;<span id="ipfs-missing-objects"></span></p>
            <input type="submit" value="Upload missing resources to IPFS" id="fix-ipfs-missing-images-btn">
        </div>

        <h3>Inactive resources</h3>
        <div>
            <p><b>List of inactive resources: </b> &nbsp;&nbsp;<span id="blockchain-unactivated-images"></span></p>
            <input type="submit" value="Remove inactive resources" id="fix-blc-missing-images-btn">
        </div>

        <h3>Add Resource</h3>
        <div>
            1. File: <input type="file" id="image-file">
            <br>
            <input type="submit" value="Add File" id="add-file-btn">
            <br>
            <p><b>Result: </b> &nbsp;&nbsp;<span id="result-add-image"></span></p>
        </div>

        <h3>Get file</h3>
        <div>
            1. Cid of resource: <input type="text" id="get-image">
            <br>
            <a href="" id="image-link" download>
                <input type="submit" value="Get image" id="get-image-btn">
            </a>
            <br>
        </div>

    </div>


    <div id="reg" class="tab-pane fade">
        <h3>Signup</h3>
        <div>
            1. Nickname: <input type="text" id="signup-name"/>
            <br>
            2a. Password: <input type="password" id="signup-pwd"/>
            Old Password: <input type="password" id="signup-pwd-old"/>
            <br>
            2b. Private key: <input type="password" id="signup-user-prk"/>
            Public key: <input type="password" id="signup-user-pbk"/>
            <br>
            Old private key: <input type="password" id="signup-user-prk-old"/>
            Old public key: <input type="password" id="signup-user-pbk-old"/>
            <br>
            2c. OAuth provider: <input type="text" id="signup-oauth-p"/>
            OAuth Id: <input type="text" id="signup-oauth-id"/>
            <br>
            Old OAuth provider: <input type="text" id="signup-oauth-p-old"/>
            Old OAuth Id: <input type="text" id="signup-oauth-id-old"/>
            <br>
            3. User details (raw json): <input type="text" id="signup-details"/>
            <br>
            <input type="submit" value="Signup" id="signup-btn"/>
        </div>

        <h3>Login</h3>
        <div>
            1. Nickname + purpose (format 'nickname:site') : <input type="text" id="login-name"/>
            <br>
            2a. Signup Password: <input type="password" id="login-pwd"/>
            <br>
            2b. Signup or login private key: <input type="password" id="login-signup-key"/>
            <br>
            2c. Signup OAuth provider: <input type="text" id="login-oauth-p"/>
            Signup OAuth Id: <input type="text" id="login-oauth-id"/>
            <br>
            3. Public key (optional): <input type="text" id="login-public-key"/>
            <br>
            4. User details (raw json): <input type="text" id="login-details"/>
            <br>
            <input type="submit" value="Login" id="login-btn"/>
        </div>
        <h3>Sign message</h3>
        <div>
            1. Json: <input type="text" id="sign-json"/>
            <br>
            2. Name (empty will be server): <input type="text" id="sign-name"/>
            <br>
            3a. Password: <input type="text" id="sign-pwd"/>
            <br>
            3b. Signup private key: <input type="text" id="sign-pk"/>
            <br>
            4. Don't sign by server: <input type="checkbox" id="sign-by-server"/>
            <br>
            <input type="submit" value="Sign message" id="sign-btn"/>
            <input type="submit" value="Sign operation and add to queue" id="sign-add-btn"/>
        </div>
    </div>
</div>
</body>
</html>